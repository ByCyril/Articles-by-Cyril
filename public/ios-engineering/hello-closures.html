<!DOCTYPE html>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <title>Hello, Closure</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="icon" href="../images/boy.png" />

    <meta name="twitter:card" content="summary" />

    <meta name="twitter:creator" content="@cyrilivargarcia" />
    <meta
      property="og:url"
      content="https://articlesbycyril.com/ios-engineering/hello-closures.html"
    />
    <meta property="og:title" content="Hello, Closures" />
    <meta
      property="og:description"
      content="Closures or completion blocks in Swift is a neat way of passing functions to a function for different use cases. They are generally used for adding code after a function has finished executing. Learn how they work!"
    />
    <meta
      property="og:image"
      content="https://articlesbycyril.com/images/boy.png"
    />
  </head>
  <body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper">
      <!-- Main -->
      <div id="main">
        <div class="inner">
          <!-- Header -->
          <header id="header">
            <a href="#" class="logo"><strong>Articles</strong> by Cyril</a>
            <ul class="icons">
              <li>
                <a
                  href="https://twitter.com/cyrilivargarcia"
                  class="icon fa-twitter"
                  ><span class="label">Twitter</span></a
                >
              </li>
              <li>
                <a
                  href="https://www.linkedin.com/in/cyrilivargarcia/"
                  class="icon fa-linkedin"
                  ><span class="label">LinkedIn</span></a
                >
              </li>
              <li>
                <a
                  href="https://github.com/cyrilivargarcia"
                  class="icon fa-github"
                  ><span class="label">GitHub</span></a
                >
              </li>

              <li>
                <a href="https://bycyril.com/" class="icon fa-html5"
                  ><span class="label">Web</span></a
                >
              </li>
            </ul>
          </header>

          <!-- Content -->
          <section>
            <header class="main">
              <h1>Hello, Closures</h1>
            </header>

            <span class="image main"
              ><img
                src="https://cdn-images-1.medium.com/max/1600/1*DEwZNpBPLt1U5hB7Rops1g.png"
                alt=""
            /></span>
            <section>
              <h3 align="right" id="stats"></h3>
            </section>
            <h2>Introduction</h2>
            <p>
              Closures or completion blocks in Swift is a neat way of passing
              functions to a function for different use cases. They are
              generally used for adding code after a function has finished
              executing. For instance, when you create a function that is trying
              to find the 6th largest number and want to add additional
              operations after finding that 6th largest number, you can pass
              that value to a closure and perform additional operations. If that
              analogy did not work for you, recall the functions you would use
              when performing network calles with
              <i>Alamofire</i> or <i>URLSessions</i>. Both functions have a
              closure with one ore more parameters that return the response
              (usually response for the actual response and error for any errors
              from the database) from the network call.
            </p>

            <p>
              While they are widely used in network calls with databases because
              of its asynchonous nature, you can apply this logic for a lot of
              other things. In this article, I will show you how to create a
              closure and how to use them!
            </p>

            <hr class="major" />
            <h3>Constructing a Closure</h3>
            <p>
              To create a closure, you simply create a function with a parameter
              of type Void as followed:
            </p>
            <pre><code>
func helloWorld(_ closure: () -> Void) {
    
}
            </code></pre>
            <p>
              Looking at the parameter
              <code>closure: () -> Void</code> basically says pass any
              parameters for the closure if necessary, (in this case, none) and
              specify the function return type (which is none, so it's a Void
              function). Inside the function, lets make a simple print
              statement. The closure named <code>closure</code> is essentially a
              function of its own. To use closure, we simply call if as if its a
              regular function right below the print statement.
            </p>
            <pre><code>
func helloWorld(_ closure: () -> Void) {
    print("Hello, World")
    closure()
}
            </code></pre>
            <p>
              To use the function, we simply call it and Xcode autocomplete
              should show it as a function with a closure. Inside that closure,
              lets create a simple print statement.
            </p>
            <pre><code>
helloWorld {
    print("Bye, World")
}
            </code></pre>
            <p>
              When you run your code, the following print statement would print
              in the following order.
            </p>
            <pre><code>
Hello, World
Bye, World
            </code></pre>
            <p>
              To explain what is happening: the statement
              <code>Hello, World</code> is coming from the print statement
              inside the <code>helloWorld()</code> function while the statement
              <code>Bye, World</code> is coming from the closure after using the
              <code>helloWorld()</code> function .
            </p>
            <h3>Closures with Parameters</h3>
            <p>
              Closures with parameters is just like what the title suggests. We
              just realized that closures are nothing more than just functions
              passed as a parameter. Like functions, we can also apply
              parameters into the mix. Let's see how that would look like.
            </p>
            <p>
              In the following example, we will create a function that will load
              some data. The function will also have a completion block which
              will have a single parameter that will show wether or not the data
              has loaded successfully.
            </p>
            <pre><code>
func loading(_ loadingComplete: (_ success: Bool) -> Bool) {

}
            </code></pre>
            <p>
              Inside the function, we'll create a simple if statement checking
              if the data has loaded successfully.
            </p>
            <pre><code>
func loading(_ loadingComplete: (_ success: Bool) -> Bool) {
    if dataFinishedLoading {
        loadingComplete(true)
    } else {
        loadingComplete(false)
    }
}
            </code></pre>
            <p>
              To explain what is happening, if the data has finished loading, we
              call the <code>loadingComplete</code> closure and pass in
              <code>true</code>, otherwise pass in <code>false</code>
            </p>
            <p>
              So, when we use our <code>loading()</code> function, we will have
              a completion block with a required parameter.
            </p>
            <pre><code>
loading { (success) in
    if success {
        print("YAY!")
    } else {
        print("Aww")
    }
}
            </code></pre>
            <p>
              To explain what is happening, when the loading finishes inside the
              <code>loading()</code> function, the results are then passed
              through the completion block (true or false). We can access those
              results inside the completion block.
            </p>

            <h3>Clean Closures</h3>
            <p>
              The examples I gave are just simple demonstrations on how they
              work. In bigger closures, your code can get pretty messy. One way
              to clean your code is modularize your closures. You can actually
              create a separate variable for your closures and pass them when
              it's time to use them; making your code a lot cleaner.
            </p>
            <p>
              Using the same example above, we want to create something called a
              <code>typealias</code> and giving it a name. We'll call it
              <code>LoadingBlock</code>
            </p>
            <pre><code>
typealias LoadingBlock = (_ success: Bool) -> Void
            </code></pre>
            <p>
              Instead of having <code>(_ success: Bool) -> Void</code> inside
              the function parameter, we can pass the
              <code>LoadingBlock</code> typealias.
            </p>
            <pre><code>
func loading(loadingComplete: LoadingBlock) {
    if dataFinishedLoading {
        loadingComplete(true)
    } else {
        loadingComplete(false)
    }
}
</code></pre>
            <p>
              Now it's time to use our <code>loading()</code> function. Before
              we call it, we want to define our closure ahead of time. You can
              do this as followed.
            </p>
            <pre><code>
var loadingBlock: LoadingBlock = { success in 

    if success {
        print("YAY!")
    } else {
        print("Aww")
    }

}
            </code></pre>
            <p>
              After creating your closure of type <Code>LoadingBlock</Code>, you
              can pass the <code>loadingBlock</code> variable as a closure for
              our function <code>loading()</code>
            </p>
            <pre><code>
func loading(loadingComplete: loadingBlock)
            </code></pre>
            <p>Nice and clean! 😎</p>
            <h3>Final Note</h3>
            <p>
              After going through a few example on how to create them, you can
              tell that closures are especially useful in framework design;
              allowing your users to add logic after a function call. We also
              covered how to reduce clutter by modularizing closures. Note that
              by doing this, you also run the risk of alienating other people
              reading your code, so try to somehow document what is happening in
              that instance.
            </p>
          </section>
        </div>
      </div>

      <!-- Sidebar -->
      <div id="sidebar">
        <div class="inner">
          <!-- Menu -->
          <nav id="menu">
            <header class="major">
              <h2>Menu</h2>
            </header>
            <ul>
              <li><a href="../index.html">Home</a></li>
              <li><a href="../ios-engineering.html">iOS Engineering</a></li>
              <li>
                <a href="../artificial-intelligence.html"
                  >Artificial Intelligence</a
                >
              </li>
              <li>
                <a href="../statistics-and-data-science.html"
                  >Statistics and Data Science</a
                >
              </li>
              <li><a href="../blog.html">Blog</a></li>
            </ul>
          </nav>

          <!-- Section -->
          <section>
            <header class="major">
              <h2>Projects by Cyril</h2>
            </header>
            <div class="mini-posts">
              <article>
                <a href="#" class="image"
                  ><img src="../images/memo.jpeg" alt=""
                /></a>
                <h2>Memo</h2>
                <p>
                  Take and organize notes like text messages.
                </p>
              </article>
              <article>
                <a href="#" class="image"
                  ><img src="../images/geekweather.jpeg" alt=""
                /></a>
                <h2>GeekWeather</h2>

                <p>
                  A simple weather app with an aesthetically user interface.
                </p>
              </article>
              <article>
                <a href="#" class="image"
                  ><img src="../images/filestorks.jpeg" alt=""
                /></a>
                <h2>FileStorks.com</h2>

                <p>
                  A quick and easy way to share files.
                </p>
              </article>
            </div>
          </section>

          <!-- Section -->
          <section>
            <header class="major">
              <h2>Connect with me!</h2>
            </header>
            <p>
              Open to collaboration opportunities, topic suggestions, or any
              questions!
            </p>
            <ul class="contact">
              <li class="fa-envelope">
                <a href="#">garciacy at bycyril dot com</a>
              </li>
              <li class="fa-twitter">
                <a href="https://twitter.com/cyrilivargarcia"
                  >@cyrilivargarcia</a
                >
              </li>
              <li class="fa-linkedin">
                <a href="https://www.linkedin.com/in/cyrilivargarcia/"
                  >in/cyrilivargarcia</a
                >
              </li>
            </ul>
          </section>

          <!-- Footer -->
          <!-- Footer -->
          <footer id="footer">
            <p class="copyright">
              &copy; Website developed by <br />AJ aj@lkn.io | @ajlkn
              <br />
              <a href="https://html5up.net">HTML5 UP</a>.
            </p>
          </footer>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>
    <script src="../analytics/analytics.js"></script>
  </body>
</html>
